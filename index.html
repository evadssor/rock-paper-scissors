<!-- 
Author: Dave Ross
Date: 3/29/2018
Title: Rock Paper Scissors
The Odin Project
-->


<html>
<head>
	<title></title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.3.0/math.min.js" type="text/javascript"></script>
</head>
<body>
	<script type="text/javascript">
		
	function game(){
		let computerScore = 0;
		let playerScore = 0;
		let round = 1;

		while( !(round > 5 || playerScore === 3 || computerScore === 3) ){
			console.log(computerScore);
			function computerPlay(){
				let randNum = Math.floor(Math.random() * 3);
				let choice;

				switch (randNum){
					case 0:
						choice = 'rock';;
						break;
					case 1:
						choice = 'paper';
						break;
					case 2:
						choice = 'scissors';
						break;
				}
				return choice;
			}

			const computerSelection = computerPlay();
			let playerSelection = prompt(`Round ${round}\n\nRock, Paper or Scissors?`).toLowerCase();

			if(playerSelection.slice(playerSelection.length - 1) === " "){
				playerSelection = playerSelection.substr(0, playerSelection.length - 1);
			}

			function playRound(playerSelection, computerSelection){
				let outcome = true;

				if(playerSelection === computerSelection){
					return alert("It's a draw!");
				}else if(playerSelection === 'rock'){
					if(computerSelection === 'paper'){
						outcome	= false;
					}else if(computerSelection === 'scissors'){
						outocme	= true;
					}
				}else if(playerSelection === 'paper'){
					if(computerSelection === 'rock'){
						outcome = true;
					}else if(computerSelection === 'scissors'){
						outcome = false;
					}
				}else if(playerSelection === 'scissors'){
					if(computerSelection === 'paper'){
						outcome = true;
					}else if(computerSelection === 'rock'){
						outcome = false;
					}
				}else{
					return alert("That's not a valid option!! Play Again!");
				}

				(outcome === true) ? playerScore += 1 : computerScore += 1;

				(outcome === true) ? (alert(`Round ${round}\n\nYou win! ${playerSelection} beats ${computerSelection}! \n\nPlayer: ${playerScore} 							\nComputer: ${computerScore}`), round++) 
									: (alert(`Round ${round}\n\nYou lose! ${computerSelection} beats ${playerSelection}! \n\nPlayer: ${playerScore} \nComputer: ${computerScore}`), round++);
			}

			playRound(playerSelection, computerSelection);

			if(playerScore === 3){
				alert("Player 1 Wins!");
			}else if(computerScore === 3){
				alert("Computer Wins!");
			}
		}
		alert("Good Game!");
	}
	
	game();

	</script>
</body>
</html>